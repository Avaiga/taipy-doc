In the following, it is assumed that [`my_config.py`](../my_config.py) module contains a Taipy configuration
already implemented.

Data nodes are created when scenario or pipeline are created. Please refer to the
[Entities' creation](scenario-creation.md) section for more details.

# Data node attributes

A `DataNode^` entity is identified by a unique identifier `id` that is generated by Taipy.
A data node also holds various properties and attributes that are accessible through the entity:

-   _config_id_: The id of the data node config.
-   _scope_: The scope of this data node (scenario, pipeline, etc).
-   _id_: The unique identifier of this data node.
-   _name_: The user-readable name of the data node.
-   _parent_id_: The identifier of the parent (pipeline_id, scenario_id, cycle_id) or `None`.
-   _last_edition_date_: The date and time of the last edition.
-   _job_ids_: The ordered list of jobs that have written on this data node.
-   _validity_days_: The number of days to be added to the data node validity duration.
-   _validity_hours_: The number of hours to be added to the data node validity duration.
-   _validity_minutes_: The number of minutes to be added to the data node validity duration.
-   _edition_in_progress_: The flag that signals if a task is currently computing this data node.
-   _properties_: The dict of additional arguments.

# Get data node

The first method to get a **data node** is from its id using the `taipy.get()^` method:

!!! Example

    ```python linenums="1"
    import taipy as tp
    import my_config

    scenario = tp.create_scenario(my_config.monthly_scenario_cfg)

    data_node = scenario.sales_history
    data_node_retrieved = scenario.sales_history
    data_node = tp.get(data_node.id)
    # data_node == data_node_retrieved
    ```

The data nodes that are part of a **scenario**, **pipeline** or task can be directly accessed on their levels:

!!! Example

    ```python linenums="1"
    import taipy as tp
    import my_config

    # Creating a scenario from a config
    scenario = tp.create_scenario(my_config.monthly_scenario_cfg)

    # Access the data node 'sales_history' from the scenario
    scenario.sales_history

    # Access the pipeline 'sales' from the scenario and then access the data node 'sales_history' from the pipeline
    pipeline = scenario.sales
    pipeline.sales_history

    # Access the task 'training' from the pipeline and then access the data node 'sales_history' from the task
    task = pipeline.training
    task.sales_history
    ```

All the data nodes can be retrieved using the method `taipy.get_data_nodes()^` which returns a list of all existing
data nodes.

!!! Example

    ```python linenums="1"
    import taipy as tp

    # Retrieve all data nodes
    data_nodes = tp.get_data_nodes()

    data_nodes #[DataNode 1, DataNode 2, ..., DataNode N]
    ```

# Read data node

To read the content of a data node you can use the `DataNode.read()^` method. The read method returns the data
stored on the data node according to the type of data node:

!!! Example

    ```python linenums="1"
    import taipy as tp
    import my_config

    # Creating a scenario from a config
    scenario = tp.create_scenario(my_config.monthly_scenario_cfg)

    # Retrieve a data node
    data_node = scenario.sales_history

    # Returns the content stored on the data node
    data_node.read()
    ```

It is also possible to partially read the contents of data nodes, which comes in handy when dealing with large amounts
of data.
This can be achieved using the `DataNode.filter()^` method:

```python linenums="1"
data_node.filter([('field_name_like_temperature', 14, Operator.EQUAL), ('field_name_like_temperature', 10, Operator.EQUAL)], JoinOperator.OR))
```

It is also possible to use pandas style filtering:

```python linenums="1"
temp_data = data_node['field_name_like_temperature']
temp_data[(temp_data == 14) | (temp_data == 10)]
```

# Write data node

To write some data on the data node, like the output of a task, you can use the `DataNode.write()^` method. The
method takes a data object (string, dictionary, lists, numpy arrays, pandas dataframes, etc.) as a parameter and
writes it on the data node:

!!! Example

    ```python linenums="1"
    import taipy as tp
    import my_config

    # Creating a scenario from a config
    scenario = tp.create_scenario(my_config.monthly_scenario_cfg)

    # Retrieve a data node
    data_node = scenario.sales_history

    data = [{"product": "a", "qty": "2"}, {"product": "b", "qty": "4"}]

    # Writes the dictionary on the data node
    data_node.write(data)

    # returns the new data stored on the data node
    data_retrieved = data_node.read()
    ```

[:material-arrow-right: The next section shows the scheduling and job execution](scheduling-and-job-execution.md).
