The [previous section](scenario-creation.md) provided documentation on `Scenario^` creation. Now that we know how to
create a new `Scenario^`, this section focuses on describing the scenario's attributes and utility methods for
using scenarios.

In the following, it is assumed that [`my_config.py`](../my_config.py) module contains a Taipy configuration
already implemented.

# Scenario attributes

The scenario creation method returns a `Scenario^` entity. It is identified by a unique identifier `id` that was
generated by Taipy. A scenario also holds various properties accessible as an attribute of the scenario:

- _config_id_ is the id of the scenario configuration.
- _creation_date_ corresponds to the date-time provided at the creation.
- _is_primary_ is True if it is a primary scenario. False otherwise.
- _subscribers_ is the list of callbacks representing the subscribers.
- _properties_ is the complete dictionary of the scenario properties. It includes a copy of the properties
  of the scenario configuration, in addition to the properties provided at the creation and at runtime.
- _cycle_ is the cycle of the scenario.
- _pipelines_ is a dictionary holding the various pipelines of the scenario. The key corresponds to the
  pipeline's _config_id_ (while the value is the pipeline itself).
- Each property of the _properties_ dictionary is also directly exposed as an attribute.
- Each nested entity is also exposed as an attribute of the scenario. The attribute name corresponds to the
  _config_id_ of the nested entity.

!!! Example

    ```python linenums="1"
    import taipy as tp
    from datetime import datetime
    import my_config

    scenario = tp.create_scenario(my_config.monthly_scenario_cfg, creation_date=datetime(2022, 1, 1), name="Scenario for January")

    # the config_name is an attribute of the scenario and equals "scenario_configuration"
    scenario.config_name
    # The creation date is the date-time provided at the creation. It equals datetime(2022, 1, 1)
    scenario.creation_date
    # The is_primary property equals `True` since it is the only scenario of the cycle.
    scenario.is_primary
    # There was no subscription, so subscribers is an empty list
    scenario.subscribers # []
    # The properties' dictionary equals {"name": "Scenario for January"}. It contains all the properties,
    # including the `name` provided at the creation
    scenario.properties # {"name": "Scenario for January"}
    # The `name` property is also exposed directly as an attribute. It equals "Scenario for January"
    scenario.name
    # the sales pipeline entity is exposed as an attribute of the scenario
    sales_pipeline = scenario.sales
    # the production pipeline entity as well
    production_pipeline = scenario.production
    # All the tasks are also exposed as attributes, including the training task entity
    training_task = scenario.training
    # The six data nodes are also exposed as attributes of the scenario.
    current_month_data_node = scenario.current_month
    ```

Taipy exposes multiple methods to manage the various scenarios.

# Get a scenario by id

The first method to get a scenario is from its id by using the `taipy.get()^` method:

```python linenums="1"
import taipy as tp
import my_config

scenario = tp.create_scenario(my_config.monthly_scenario_cfg)
scenario_retrieved = tp.get(scenario.id)
scenario == scenario_retrieved
```

Here, the two variables `scenario` and `scenario_retrieved` are equals.

# Get all scenarios

All the scenarios can be retrieved using the method `taipy.get_scenarios()^`. This method returns the list of all
existing scenarios. If an optional cycle is given as a parameter, the list contains all the existing scenarios of the
cycle. If an optional tag is provided as a parameter, the list contains all the existing scenarios tagged with the tag
provided.

# Get primary scenarios

The `taipy.get_primary()^` method returns the primary scenario of the cycle given as a parameter.

`taipy.get_primary_scenarios()^` returns the primary scenarios for all the existing cycles.

# Promote a scenario as primary

To set a scenario as primary, the `taipy.set_primary()^` method must be used. It promotes the scenario given as a
parameter to the primary scenario of its cycle. If the cycle already had a primary scenario it will be demoted, and
it will no longer be primary for the cycle.

# Delete a scenario

A scenario can be deleted by using `taipy.delete()^` which takes the scenario id as a parameter. The deletion is also
propagated to the nested pipelines, tasks, data nodes, and jobs if they are not shared with any other scenarios.

# Tag or untag a scenario

A scenario can have multiple tags. You can add a tag to a scenario using `taipy.tag()^`. Alternatively, you can use
the `Scenario.add_tag()^` method.

```python linenums="1"
import taipy as tp
from my_config import *

scenario = tp.create_scenario(monthly_scenario_cfg)
tp.tag(scenario, "my_tag")
# or
scenario.add_tag("my_tag")
```

You can retrieve all scenarios that have a specific tag using `taipy.get_scenarios()^` with the _tag_ parameter.

Two scenarios can not have the same tag in the same cycle. If an existing tag is set on another scenario from the
same cycle, it will be removed from the current scenario having that tag.

You can remove a tag of a scenario using `taipy.untag()^`. Alternatively, you can use the `Scenario.remove_tag()^`
method.

```python linenums="1"
import taipy as tp
import my_config

scenario = tp.create_scenario(my_config.monthly_scenario_cfg)
tp.untag(scenario, "my_tag")
# or
scenario.remove_tag("my_tag")
```

You can define a list of authorized tags in the scenario configuration by specifying the value of _authorized_tags_.
From the scenarios that are created from that configuration, if you add a tag that is not authorized, an exception will
be raised.

[:material-arrow-right: The next section presents the pipeline management](pipeline-mgt.md).
